Алгоритм для нахождения уникального CSS-селектора для элемента в документе может быть следующим:

1. Получить элемент, для которого необходимо найти уникальный селектор.
2. Найти ближайший родительский элемент, у которого есть id.
3. Если найденный родительский элемент существует, создать селектор, начиная с его id, например "#parent".
4. Иначе, если ближайший родительский элемент не имеет id, создать селектор, начиная с его тега, например "div".
5. Продолжать нахождение родительских элементов и добавление их селекторов к общему селектору, до тех пор, пока не будет достигнут корневой элемент (html или body). При этом, для каждого родительского элемента, вычислять его положение относительно дочернего элемента, например ":nth-child(2)".
6. Вернуть получившийся уникальный селектор.
